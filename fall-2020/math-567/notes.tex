\documentclass[psamsfonts]{amsart}
\newcommand\hr{\par\vspace{-.5\ht\strutbox}\noindent\hrulefill\par}
\usepackage{hyperref}
\usepackage{amssymb,amsfonts}
\usepackage[all,arc]{xy}
\usepackage{enumerate}
\usepackage{mathrsfs}
\usepackage{stackengine}
\usepackage{mathtools}
\stackMath
\usepackage{graphicx}
\newcommand{\given}{\ |\ }
\usepackage{graphics}
\usepackage[margin=2cm]{geometry}
\newtheorem{thm}{Theorem}[section]
\newtheorem{cor}[thm]{Corollary}
\newtheorem{prop}[thm]{Proposition}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{conj}[thm]{Conjecture}
\newtheorem{quest}[thm]{Question}

\theoremstyle{definition}
\newtheorem{defn}[thm]{Definition}
\newtheorem{defns}[thm]{Definitions}
\newtheorem{con}[thm]{Construction}
\newtheorem{exmp}[thm]{Example}
\newtheorem{exmps}[thm]{Examples}
\newtheorem{notn}[thm]{Notation}
\newtheorem{notns}[thm]{Notations}
\newtheorem{addm}[thm]{Addendum}
\newtheorem{exer}[thm]{Exercise}
\newtheorem{ques}[thm]{Question}

\theoremstyle{remark}
\newtheorem{rem}[thm]{Remark}
\newtheorem{rems}[thm]{Remarks}
\newtheorem{warn}[thm]{Warning}
\newtheorem{sch}[thm]{Scholium}

\newcommand{\T}[0]{\mathbb{T}}
\newcommand{\N}[0]{\mathbb{N}}
\newcommand{\Q}[0]{\mathbb{Q}}
\newcommand{\R}[0]{\mathbb{R}}
\newcommand{\Z}[0]{\mathbb{Z}}
\newcommand{\Sph}[0]{\mathbb{S}}
\newcommand{\Hyp}[0]{\mathbb{H}}
\newcommand{\christoffel}[4][\Gamma]{#1^{\hspace{5pt}#3}_{#2 \hspace{5pt} #4}}
\newcommand{\no}{\noindent}
\usepackage{xcolor,cancel}
\newcommand\Ccancel[2][black]{\renewcommand\CancelColor{\color{#1}}\cancel{#2}}
\newcommand{\M}{\mathcal{M}}
\usepackage{framed}
\usepackage{appendix}
\newcommand{\eps}[0]{\varepsilon}

\makeatletter
\let\c@equation\c@thm
\makeatother
\numberwithin{equation}{section}

\newcommand{\holdernorm}[0]{||f||_{C^{0, \gamma}(\Omega)}}

\bibliographystyle{plain}

\title[Math 567: Functional Analysis]{Math 567: Functional Analysis (Fall 2020 Semester)}
\author{Shereen Elaidi as taught by Prof. lin; Last Updated: \today}
\date{Fall 2020 Semester}

\begin{document}

\maketitle

This class is about linear functional analysis. This has a lot in common with linear algebra in infinite-dimensional spaces. We can think of this as infinite-dimensional linear algebra. There are two main applications of this: (a) geometry and topology in infinite dimensions and (b) solving PDEs. Recall that in regular linear algebra, we used those tools to solve linear systems. The infinite-dimensional equivalent to this is a PDE. In this class, we'll focus on the second application of functional analysis.


\section{Basic Functional Analysis}
This corresponds to Chapters 4 and 5 of the textbook.
\subsection{Banach Spaces and General Topology}
Let \( X \) be a vector space. Recall that this means that it is closed under addition and scalar multiplication. 

\begin{defn}[Norm]
	A \textbf{norm} on a vector space \( X \), \( || \cdot ||: X \rightarrow [0, \infty [ \), satisfies the following three properties: 
	\begin{enumerate}
		\item \( || x || = 0 \iff x = 0 \). 
		\item \textbf{(Homogeneity)}: \( || \lambda x || = |\lambda | || x || \) for each \( x \in X \), \( \lambda \in \R \).
		\item \textbf{(Triangle Inequality):} \( || x+y || \leq || x || + || y || \).
	\end{enumerate}
\end{defn}

\begin{defn}[Completeness / Banach Space]
	\( X \) is \textbf{complete} if every Cauchy sequence converges. \( (X, || \cdot ||) \) is a \textbf{Banach space} if it is a complete normed vector space.
\end{defn}

\begin{defn}[Dense Subset]
	\( Y \subseteq X \) is \textbf{dense} if 
	\begin{enumerate}
		\item \( \overline{Y} = X \) (one thing we need to note: \( \overline{Y} \) is the closure, but we need to ask ourselves ``in which topology''? ).
	\end{enumerate}
	This is equivalent to: 
	\begin{align*}
		\forall \eps > 0,\ \forall x \in X,\ \exists y \in Y\ \text{ s.t. } || x - y || < \eps.
	\end{align*}
	And also equivalent to, 
	\begin{align*}
		\forall x \in X,\ \exists \{ y_n \} \subseteq Y\ \text{ s.t. } y_n \rightarrow y \in X. 
	\end{align*}
\end{defn}

\begin{defn}[Strong Topology]
	The \textbf{strong topology} is the topology induced by the norm, \( || \cdot || \) (the open sets are characterized by the balls, \( B_r := \{ x\ |\ || x || < r \} \)). In this topology, the definitions of density given above are equivalent.
\end{defn}

\begin{defn}[Separable]
	\( X \) is \textbf{separable} if \( \exists \) a countable dense subset. 
\end{defn}

We have the following equivalent definitions of compactness. 

\begin{defn}[Compactness 1]
	\( E \subseteq X \) is \textbf{compact} if every open cover of \( E \) admits a finite subcover.
\end{defn}

\begin{defn}[Compactness 2]
	Every sequence has a convergent sub-sequence. 
\end{defn}

\begin{defn}[Compactness 3]
	For any sequence  \( \{ x_n \} \subseteq E \), there exists \( \{ x_{n_k} \} \) and \( x^* \in E \) such that \( x_{n_k} \rightarrow x^* \in E \).
\end{defn}

\begin{defn}[Pre-Compact]
	\( E \subseteq X \) is \textbf{pre-compact} if \( \overline{E} \) is compact.
\end{defn}

\subsection{Euclidean Space \( \R^n \)}
Let \( x \in \R^n \). This is denoted by \( (x_1, ..., x_n) \). Then, recall, 
\begin{align*}
	||x || = || x ||_{\ell^2} = \left( \sum_{j=1}^n x_j^2 \right)^{1/2}. 
\end{align*}
We also have these other typical norms on Euclidean space:
\begin{align*}
	|| x||_{\ell^1}  &= \sum_{j=1}^n |x_j | \\
	||x||_{\ell^p} & = \left( \sum_{j=1}^n |x_j|^p \right)^{1/p} \\
	|| x ||_{\ell^\infty} & = \max_{1 \leq j \leq n } |x_j |.
\end{align*}

\begin{defn}[Equivalent Norms]
	We say that two norms, \( | \cdot | \) and \( || \cdot || \), are equivalent if and only if there exist two constants \( a \) and \( b \) such that
	\begin{align}
		\boxed{a||x|| \leq |x | \leq b || x|| \hspace{1cm} \forall x \in X.}	
	\end{align}
\end{defn}
In words, this is saying that you can't be big on one norm but small in another. These norms are comparable; they are bounded by constants on either side. 

\begin{thm}
	All norms on \( \R^n \) are equivalent (all norms in finite dimensions are equivalent).
\end{thm}

\begin{proof}
	Let \( || \cdot || \) be the Euclidean norm, and let \( | \cdot | \) be another norm. Let \( \{ e_i \}_{i=1}^n \) be the standard basis of \( \R^n \); recall that this is \( e_i = (0, ..., 1, ... , 0 ) \) where the \( 1 \) is in the ith slot. Since this is a basis, for \( x \in X \): 
	\begin{align*}
		x = \sum_{i=1}^n x_i e_i.
	\end{align*}
	By the reverse triangle inequality, 
	\begin{align*}
		| |x| - |y| | & \leq |x-y | \\
					 & = \left| \sum_{i=1}^n (x_i - y_i) e_i \right| \\
					 & \leq \sum_{i=1}^n |x_i - y_i| |e_i| \\
					 & \leq \underbrace{ \left( \sum_{i=1}^n |e_i|^2  \right)^{1/2} }_{:= C} \left( \sum_{i=1}^n |x_i - y_i|^2   \right)^{1/2} \hspace{0.5cm} \text{(Cauchy-Schwarz) } \\
					 & \leq C ||x-y|| \hspace{1cm} (*),
	\end{align*}
	where \( C \) is some number. Norms are continuous; \( x \mapsto || x || \) is continuous \( S = \{ x\ |\ || x|| = 1 \} \) (the unit ball). By \( (*) \), \( x \mapsto | x | \) is continuous on \(  S \). \( S \) is closed and bounded on \( \R^n \) which means that \( S \) is compact. By the extreme value theorem, this means that there exist two constants \( a, b \in \R \) such that
	\begin{align}
		a \leq |x | \leq b \hspace{1cm} \forall x \in S.	
	\end{align}
	Observe that \( | x | = 0 \iff x = 0 \), which implies that \( a > 0 \). For any \( y \in \R^n \), let \( x := \frac{y}{||y||} \in S \). Then, 
	\begin{align*}
		a \leq \left| \frac{y}{||y||}  \right| \leq b \iff a \leq \frac{1}{||y ||} |y| \leq b \iff a || y || \leq |y| \leq b || y || \hspace{0.5cm} \forall y \in \R^n \setminus \{ 0 \}.
	\end{align*}
	The case of \( y = 0 \) is straightforward. This proves that any norm in a finite-dimensional vector space are equivalent. Note that this proof rests on the fact that we have a basis.
\end{proof}

\begin{rem}
	\( \R^n \) is separable in any norm. The typical countable dense subset of \( \R^n \) is \( \Q^n \). We will see in infinite-dimensions that all norms are not equivalent.
\end{rem}


\subsection{The Spaces of \( C^r \), \( C^{r, \gamma} \) of Continuous Functions}

\begin{defn}[\(C^0 \)]
	Let \( \Omega \subseteq \R^n \) be open. Then, 
	\begin{align*}
		C^0(\Omega) & \coloneqq \{ f\ |\ \Omega \to \R \text{ s.t. } f \text{ is continuous on } \Omega \}  \\
		C^0(\overline{\Omega}) & \coloneqq \{ f\ |\ \overline{\Omega} \rightarrow \R \text{ s.t. } f \text{ is continuous on } \overline{\Omega} \}. 
	\end{align*}
\end{defn}
This implies that \( f \in C^0(\overline{\Omega}) \) is bounded and uniformly continuous.

\begin{defn}[\( || \cdot ||_\infty \)]
		The standard norm on \( C^0(\Omega) \) is
		\begin{align}
			|| u ||_\infty \coloneqq \sup_{x \in \Omega} |u(x) | \leftrightarrow \text{ uniform convergence}. 	
		\end{align}
\end{defn}

\begin{prop}
	\begin{enumerate}
		\item \( (C^0(\Omega), || \cdot ||_\infty ) \) is a Banach space. 
		\item If \( \Omega \subseteq \R^n \) is bounded, then \( C^0(\overline{\Omega})\) is separable.
	\end{enumerate}
\end{prop}
We will only give a sketch of the proof.
\begin{proof}
	\begin{enumerate}
		\item The uniform limit of continuous functions is continuous. 
		\item Follows from the Weierstrass approximation theorem: polynomials are dense in \( C^0(\overline{\Omega}) \); then, consider the polynomials with rational coefficients.
	\end{enumerate}
\end{proof}

\subsubsection{Higher-Order Derivatives}
Recall some notation from advanced calculus: 
\begin{align}
	\boxed{Du = \nabla u = \text{ gradient of } u = \begin{bmatrix}
		\partial_1 u \\
		\vdots \\
		\partial_n u 
	\end{bmatrix}}.	
\end{align}
We consider the \textbf{multi-index} \( \alpha = (\alpha_1, ..., \alpha_n ) \), where \( |\alpha| \coloneqq \alpha_1 + ... + \alpha_n \), and \( \forall k \in \R^n \), define \( k^\alpha \coloneqq k_1^{\alpha_1} \cdots h_n^{\alpha_n} \). Then, in this notation, 
\begin{align*}
	D^\alpha u &  = \partial_1^{\alpha_1} \cdots \partial_n^{\alpha_n} u  \\
			& = \frac{\partial^{|\alpha|} u}{\partial x_1^{\alpha_1} \cdots \partial x_n^{\alpha_n}} \hspace{1cm} \text{(partial derivative)}.
\end{align*}

\begin{defn}[\(C^r(\Omega) \)]
	\begin{align} 
C^r(\Omega) := \{ f \given D^\alpha f \in C^0(\Omega)\ \forall\ |\alpha| < r \} 		
	\end{align}
\end{defn}
In words, this means that all partial derivatives less than or equal to \( r \) are continuous. Then, we can define the following space:
\begin{align}
	C^\infty (\Omega) \coloneqq \bigcap_{r=1}^\infty C^r(\Omega).	
\end{align}

\begin{defn}[Support of \( f \) ]
		The \textbf{support} of \( f \) is defined as the smallest closed set such that \( f \equiv 0 \) on \( \R^n \setminus \operatorname{supp}(f) \).
		\begin{align}
			\operatorname{supp} (f) \coloneqq \overline{\{ x \given f(x) \neq 0 \} }.
		\end{align}
\end{defn}

\begin{defn}[Compactly Contained]
	A set \( K \subset \subset \Omega \) means that \( K \subseteq \Omega \) is compact. We say that \( K \) is \textbf{compactly contained} in \( \Omega \) if \( K \subset \subset \Omega \), \( \Omega\) is bounded, and that there exists an \( \eps > 0 \) such that \( B(x, \eps ) \subseteq \Omega \) for all \( x \in K \). This is equivalent to for all \( x \in K \), 
	\begin{align}
		\exists\ \eps > 0 \text{ s.t. } d(x, \partial \Omega) \coloneqq \inf_{y \in \partial \Omega} |x-y| > \eps.
	\end{align}
\end{defn}

\begin{defn}[\( C_c^r ( \Omega) \)]
	\begin{align}
		C_c^r(\Omega) \coloneqq \{ f \given f \in C^r(\Omega), \text{supp}(f) \subset \subset \Omega \}.	
	\end{align}
\end{defn}

\begin{defn}[Norm on \( C^r(\overline{\Omega}) \)]
		Let \( \Omega \) be bounded. Then, 
		\begin{align}
			\boxed{|| 
			f||_{C^r} \coloneqq \sum_{|\alpha|\leq r} \sup_{ x \in \Omega} |D^\alpha f(x)|.}	
		\end{align}
\end{defn}

\begin{prop}
Let \( \Omega \subseteq \R^n \) be bounded. Then, \( C^r(\Omega) \) is a separable Banach space
 (in fact, all you need for separable is that it is bounded) for all \( r < \infty \).
\end{prop}

\begin{rems}
	\( C_c^r(\Omega) \) is not complete. \( C^\infty (\Omega) \) is not complete. However, subspaces of \( C^\infty \) is still complete with some norm.
\end{rems}
We also introduce, 
\begin{defn}[Hölder Continuous \( C^{0, \gamma} (\Omega) \)]
	\( f: \Omega \rightarrow \R \) is \textbf{Hölder Continuous} with exponent \( \gamma \in [0, 1[ \) if there exists a \( C \) such that
	\begin{align}
		\boxed{| f(x) - f(y) | \leq C || x-y||^\gamma.	}
	\end{align}
	If \( \gamma =1 \Rightarrow  f \) is \textbf{Lipschitz Continuous}.
\end{defn}

Also, 
\begin{align*}
	\boxed{[f]_{C^{0, \gamma}(\Omega)} \coloneqq \sup_{x, y \in \Omega} \frac{|f(x) - f(y) |}{|| x- y ||^\gamma}}
\end{align*}
is called the \textbf{Hölder seminorm}. This is nor a norm, but we can make it a norm: 
\begin{defn}[\( || \cdot ||_{C^{0,\gamma}} \)]
	\begin{align}
		\boxed{||f||_{C^{0, \gamma}(\Omega)} \coloneqq ||f||_\infty + [f]_{C^{0, \gamma} (\Omega)}.} 	
	\end{align}
\end{defn}
On the homework, you'll show that 
\begin{align*}
	(C^{0, \gamma}(\Omega), ||f||_{C^{0, \gamma}(\Omega)}) 
\end{align*}
is complete.
\begin{defn}[\(C^{r, \gamma} \)]
\begin{align}
		\boxed{C^{r, \gamma}(\Omega) \coloneqq \{ f \given f \in C^r(\Omega) \text{ and } |D^\alpha f(x) - D^\alpha f(y) | \leq C || x-y||^\gamma\ \forall \ |\alpha| = r \}}.
\end{align} 
The norm of this space is given by, 
\begin{align}
	\boxed{|| f||_{C^{r, \gamma}} \coloneqq ||f||_{C^r} + \sup_{|\alpha| = r} [D^\alpha f]_{C^{0,r}}.}	
\end{align}
\end{defn}

\begin{rem}
	If \( f \in C^{0, \gamma}(\Omega) \), \( \Omega \) bounded, then \( f \in C^{0, \alpha}(\Omega) \) for all \( 0 < \alpha \leq \gamma \)	
\end{rem}


\begin{rem}
	\textbf{(Rademacher's Theorem)}. If \( f \in C^{0,1} \), then \( f \) is differentiable a.e.	
\end{rem}

\subsection{Integration Theorems}

\begin{thm}[Monotone Convergence Theorem]
		If \( f_n \uparrow f \) pointwise for almost every \( x \), then 
		\begin{align}
			\boxed{\lim_{n \rightarrow \infty} \int_{\Omega} f_n(x) dx = \int_{\Omega} f(x) dx}.
		\end{align}
\end{thm}

\begin{thm}[Fatou's Lemma]
	Let \( \{ f_n \} \) be a sequence of measurable functions that are all positive. Then, 
	\begin{align}
		\boxed{\int_{\Omega} \liminf_{n \rightarrow \infty} f_n(x) \leq \liminf_{n \rightarrow \infty} \int_\Omega f_n(x) dx}	
	\end{align}
\end{thm}

\begin{thm}[Dominated Convergence Theorem]
		Assume that \( \{ f_n \} \) are measurable, \( f_n \rightarrow f \) pointwise a.e. Then, if \( |f_n(x)| \leq g(x) \) for all \( n \in \N \) for almost every \( x \), where \( g \in L^1(\Omega) \), then
		\begin{align}
			\boxed{\lim_{n \rightarrow \infty} \int_\Omega f_n(x) dx = \int_\Omega f(x) dx}	
		\end{align}
\end{thm}
This is the theorem that you use when you want to differentiate under integrals.

\begin{thm}
	The space \( C_c^0(\R^n ) \) is dense in \( L^1(\R^n) \).	
\end{thm}

\begin{thm}[Fubini-Tonelli] 
	For all \( f: X \times Y \to \R^n \), 
	\begin{align}
		\boxed{\int_X \int_Y | f(x,y)| dy dx = \int_Y \int_X |f(x,y)|dx dy = \int_{X \times Y } |f(x,y)| d(x,y).} 
	\end{align}
	If, moreover, \( f \in L^1(X \times Y) \), 
	\begin{align}
		\int_X \int_Y f(x, y) dy dx = \int_Y \int_X f(x, y) dx dy = \int_{X \times y} f(x,y) d(x,y) 	
	\end{align}
\end{thm}

\subsection{Elementary \( L^p \) Spaces}

\begin{defn}[\(L^p \)] 
		Fix \( 1 \leq p < \infty \), let \( \Omega \subseteq \R^n \). Then, we define the \(L^p\) space to be
		\begin{align}
			\boxed{L^p(\Omega) \coloneqq \{ f: \Omega \to \R \given f \text{ measurable } |f|^p \in L^1(\Omega) \}}
		\end{align}
		with the following norm, 
		\begin{align}
			|| f ||_{L^p} \coloneqq \left[ \int_{\Omega} |f(x)|^p \right]^{1/p}.	
		\end{align}
\end{defn}

\begin{defn}[\( L^\infty \)]
		We define \(L^\infty\) to be: 
		\begin{align}
			L^\infty(\Omega) \coloneqq \{ f: \Omega \to \R \given f \text{ measurable }, \exists\ C \text{ s.t. } |f(x)| \leq C \text{ a.e. } \}, 	
		\end{align}
		with the following norm, 
		\begin{align}
			||f||_{L^\infty} = || f||_\infty = \inf \{ c\ |\ |f(x)| \leq c\ a.e. \} 	
		\end{align}
\end{defn}
This definition implies that \( f(x) \leq || f||_\infty \) almost everywhere. Below are some fundamental tools that we'll be using
\begin{thm}[Hölder's Inequality]
		Let \( 1 \leq p, p' \leq \infty \). If \( f \in L^p(\Omega) \), \( g \in L^{p'}(\Omega) \) and \( 1/p + 1/p' = 1 \), then \( fg \in L^1 \) and
		\begin{align}
			\boxed{\int|fg|dx \leq ||f||_p ||g||_{p'}}	
		\end{align}
\end{thm}

\begin{thm}[Minkowski's Inequality]
	For all \( p \in [1, \infty] \), 
	\begin{align}
		\boxed{||f+g||_p \leq ||f||_p + ||g||_p.} 	
	\end{align}
\end{thm}
As a consequence of Minkowski's Inequality, \(L^p \) is a vector space.

\begin{thm}[Riesz-Fischer] 
	\( L^p \) is a Banach space for all \( p \in [1, \infty] \).
\end{thm}

\begin{proof}
	\textbf{Case \# 1:} \( p = \infty \). Let \( \{ f_n \} \subseteq L^\infty \) be Cauchy. Hence, for all \( k \in \mathbb{N} \), there exists an \( N_k \) such that for all \( n, m \geq N_k \), 
	\begin{align}
		|| f_n - f_m ||_\infty < \frac{1}{k}. 
	\end{align}
	Then, there exists a null set \( E_k \) such that \( \forall n,m \geq N_k \). 
	\begin{align*}
		|f_n(x) - f_m(x) | \leq \frac{1}{k}.
	\end{align*} 
	for all \( x \in \Omega \setminus E_k \), \( \{ f_n \} \subseteq \R \) is a Cauchy sequence. Since \( \R \) is complete, there exists an \( f(x) \in \R \) such that		
	\begin{align*} 
		f_n(x) \rightarrow f(x) \hspace{0.5cm} x \in \Omega \setminus E.
	\end{align*} 
	 So, in particular, \( \forall m \geq N_k \),
	 \begin{align*}
	 		| f_n(x) - f(x) | \leq \frac{1}{k}\ \forall x \in \Omega \setminus E. 
	 \end{align*}
	 We can then take the supremum, 
	 \begin{align*}
	 	\sup_{ x \in \Omega \setminus E } |f_m(x) - f(x) | \leq \frac{1}{k}. 
	 \end{align*}
	 Extend \( f \) to be whatever on \( E \): 
	 \begin{align*}
	 	\Rightarrow & || f - f_m ||_\infty \leq \frac{1}{k}, \hspace{0.5cm} n \geq N_k, \\
	 	\Rightarrow &  f_n \rightarrow f \text{ in } L^\infty. 
	 \end{align*}
\end{proof}
Also, \( f = (f - f_n) + f_n \). We have that \( (f - f_n) \in L^\infty \) and \( f_n \in L^\infty \). Hence, \( f \in L^\infty \) since \( L^\infty \) i a vector space. Hence, we have proven that \(L^p \) is a Banach space for \( p = \infty \).
\newline
\newline
\textbf{Case \# 2:} \( 1 \leq p < \infty \).  Similarly, \( \{ f_n \} \subseteq L^p \) be Cauchy. Choose a subsequence such that, 
\begin{align*} 
	||f_{n_{k+1}} - f_{n_k} ||_{L^p} < \frac{1}{2^k} \hspace{1cm} \forall k \geq 1.
\end{align*}
Then, 
\begin{align*}
	\left| \left| \sum_{k=1}^N | f_{n_{k+1}} - f_{n_k} | \right| \right|_{L^p} \leq \sum_{k=1}^N \left( \frac{1}{2^k} \right) < 1. 
\end{align*}
Define, 
\begin{align*}
	v(x) \coloneqq \lim_{N \rightarrow \infty} \sum_{k=1}^N | f_{n_{k+1}}(x) - f_{n_k}(x) |.
\end{align*}
(Possibly infinite, but always positive). By Fatou's Lemma, 
\begin{align*}
	\int_{\Omega} |v|^p dx \leq \liminf_{N \rightarrow \infty} \int_{\Omega} \left( \sum_{k=1}^N |f_{n_{k+1}}(x) - f_{n_k}(x) | \right)^p dx  \leq 1. 
\end{align*}
Hence, \( v \in L^p \) which implies that \( |v(x)| < \infty \) a.e. and, 
\begin{align*}
	f_{n_{k+1}}(x) + \sum_{k=1}^\infty ( f_{n_{k+1}}(x) - f_{n_k} (x) ) \hspace{0.5cm} (*) 
\end{align*}
converges almost everywhere for \( x \). Observe that the partial sums of the above in \( (*) \) are just \( f_{n_{k+1}}(x) \) (telescoping series): 
\begin{align*}
	f(x) := \lim_{k \rightarrow \infty } f_{n_k} (x),
\end{align*}
which we already knew converges for a.e. \( x \) and extend this to be whatever on a null set. Claim: \( f \in L^p \) and \( ||f_n - f||_{L^p} \rightarrow 0 \). By Fatou's Lemma, for \(k \) sufficiently large, 
\begin{align*}
	\int_{\Omega} |f-f_{n_k} |^p dx \leq \liminf_{j \rightarrow \infty} \int_{\Omega} |f_{n_j} - f_{n_k} |^p \leq \frac{\eps}{2} \hspace{0.5cm} \text{(since Cauchy)}
\end{align*}
Which implies, 
\begin{align*}
	& \Rightarrow f- f_{n_k} \in L^p (\Omega) \\ 
	& \Rightarrow f(x) = \underbrace{(f(x) - f_{n_k}(x))}_{\in L^p} + \underbrace{f_{n_k}}_{\in L^p} (x) \\
	& \Rightarrow f \in L^p.
\end{align*}
Break at the subsequence, which means that the limiting guy is in \( L^p \). Also, for all \( n \geq N \), \( n_k \geq N \), 
\begin{align*}
	||f_n(x) - f(x) ||_{L^p} &  \leq || f_n(x) - f_{n_k} (x) ||_{L^p} + ||f_{n_k}(x) - f(x) ||_{L^p} \\
	& \leq \frac{\eps}{2} + \frac{\eps}{2} \\
	& = \eps.
\end{align*}
Hence, \( f_n \rightarrow f \) in \( L^p \).

\begin{cor}
	Let \( \{ f_n \} \subseteq L^p \) and let \( f \in L^p \) such that \( || f_n - f ||_{L^p} \rightarrow 0 \), then there exists a subsequence such that, 
	\begin{align*}
		f_{n_k}(x) \rightarrow f(x) \hspace{0.5cm} on \Omega. 
	\end{align*}
\end{cor}

\begin{proof}
	Hidden in Reisz-Fischer.
\end{proof}


\begin{thm}
\(C_c(\R^N) \) is dense in \(L^p(\R^N) \) for all \( p \in [1, \infty [ \).	
\end{thm}


\begin{proof} 
	We'll work with the truncation operator. It's a function \( T_n: \R \rightarrow R \) defined by, 
	\begin{align*}
			T_nr := \begin{cases}
				r & \text{ if } |r| \leq n, \\
				\frac{nr}{|r|} & \text{ if } |r| \geq n.
			\end{cases}
	\end{align*}	
	\textbf{Claim:} for all \( f \in L^p(\R^N) \) and for all \( \eps > 0 \) there exist a \( g \in L^\infty (\R^N) \) and a compact set \( K \subseteq \R^N \) such that, 
	\begin{align*}
		\text{supp}(g)  \subseteq  K \text{ and } || f - g ||_{L^p} < \eps. 
	\end{align*}
	Let \( f_n := T_n(f)\chi_{B(0,n)} \). Note that  \( f_n - f \rightarrow 0 \) a.e.\ Then, 
	\begin{align*}
		| f_n - f| \leq 2 |f| \in L^p. 
	\end{align*}
	By the DCT,  \( ||f_n - f||_{L^p} \rightarrow 0 \). Thus, let \( g(x) = f_n(x) \) for \( n \) large. So, \( g \in L^p(\R^N) \) and is compactly supported. Hence, by inclusions in \(L^p \) and Hölder's inequality, we obtain:
	\begin{align*}
		g \in L^1(\R^N). 
	\end{align*}
	Thus, for all \( \delta > 0 \), by the density in \(L^p \), there exists a \( g \in C_c^0 \) such that  
	\begin{align*}
		|| g - g_1||_{L^1} < \delta.
	\end{align*}
	WLOG, we may assume that \( ||g_1||_\infty \leq || g ||_\infty \) (by replacing \( g_1 \) for \( T_n g_1 \) for \( n \) large ). Since \( p \in ]1, \infty [ \), 
	\begin{align*}
		|| g - g_1 ||_{L^p} & = \left( \int |g-g_1|^p \right)^{1/p}  \\
		& = \left(  \int |g-g_1||g-g_1|^{p-1} \right)^{1/p} \\
		& = || g-g_1||_\infty^{(p-1)/p} ||g-g_1||_{L^1}^{1/p} \\
		& = \delta^{1/p} ||g-g_1||_\infty^{1-1/p}  \\
		& = 2 ||g||_{L^\infty}^{1-1/p} \delta^{1/p}.
	\end{align*}
	Choosing \( \delta \) sufficiently small,
	\begin{align*}
		\leq \eps.
	\end{align*}
	By Minkowski, \( g \in C_c^0(\R^N) \), 
	\begin{align*}
		||f-g_1||_{L^p} \leq || f -g ||_{L^p} + ||g-g_1||_{L^p} \leq 2 \eps, 
	\end{align*}
	as desired. Hence, \( C_c(\R^N) \) is dense in \(L^p(\R^N) \). 
\end{proof} 


\begin{thm}
The vector space \(L^p(\R^N) \) is separable. 	
\end{thm}
\begin{proof}
	Define the following, 
	\begin{align*}
		\mathcal{R} := \left\{ \prod_{k=1}^N ]a_k, b_k[,\ a_k, b_k \in \mathbb{Q} \text{ rational rectangles.}  \right\}. 
	\end{align*}
	And let, 
	\begin{align*}
		\mathcal{E} := \left\{ \text{finite linear combination of elements of } \chi_\mathcal{R}, R \in \mathcal{R}, \text{ with rational coefficients.}  \right\} 
	\end{align*}
	(You can think of this as a vector space over the rationals \( \mathbb{Q} \)). \textbf{Claim:} \( \mathcal{E} \) is dense in \( \L^p \). Given an \( f \in L^p(\R^N) \), \( \eps > 0 \) we know that there is a \( f_1 \in C_c^0(\R^N) \) such that, 
	\begin{align*}
		|| f - f_1 || < \eps.
	\end{align*}
	Let \( \text{supp}(f_1) \subseteq R \subseteq \mathcal{R} \). Now, for all \( \delta > 0 \), build an \( f_2 \in \mathcal{E} \) such that \( || f_1 - f_2 ||_\infty < \delta \). Indeed, re-write, 
	\begin{align*}
		R := \bigcup_{i=1}^N R_i \text{ where } R_i \in \mathcal{R} \text{ and } \forall i, \text{osc}_{R_i} f_1 = \sup_{R_i} f_1 - \inf_{R_i} f_1 < \delta.
	\end{align*}
	Hence, 
	\begin{align*}
		f_2 = \sum_{i=1}^N q_i \chi_{R_i} \text{ with } q_i \in \mathbb{Q}, q \approx f_1|_{R_i}.
	\end{align*}
	Which implies, 
	\begin{align*}
		||f_1 - f_2||_{L^\infty} \leq \delta.
	\end{align*}
	So, 
	\begin{align*}
		||f_1 - f_2||_{L^p} & \leq ||f_1 - f_2||_\infty |R|^{1/p} \text{ (compact support) } \\
		& \leq \delta |R|^{1/p} \\
	 & < \delta \text{ for \( \delta \) chosen. }
	\end{align*}
	Which implies that, 
	\begin{align*}
		||f - f_2 ||_{L^p} & \leq ||f-f_1||_{L^p} + ||f-f_2||_{L^p} \\
						 & \leq \eps + \eps = 2 \eps,
	\end{align*}
	as asserted.
\end{proof}

\begin{rem}
These results are more general. In particular, if \( \Omega \) is separable, then \(L^p(\Omega) \) is separable. 	
\end{rem}


\subsection{Convolutions and Mollifers}

\begin{defn}[Convolution]
	Let \(f \) and \( g \) be functions. Their \textbf{convolution} is defined as: 
	\begin{align*}
		(f * g)(x) := \int_{\R^N} f(x-y)g(y) dy = \int_{\R^N} g(x-y)f(y) dy = (g*f)(x).
	\end{align*}
\end{defn}

\begin{thm}[Young's Inequality]
		If \( f \in L^1 \), \( g \in L^p \), then, 
		\begin{align*}
			\boxed{||f *g||_{L^p} \leq ||f||_{L^1} ||g||_{L^p}}
		\end{align*}
		Hence, \( f*g \in L^p \) and hence \( f *g \) is defined almost everywhere.
\end{thm}

\begin{prop}
	Let \( f, g \) be functions. Then, 
	\begin{align*}
		\text{supp}(f*g) \subseteq \overline{ \text{sup}(f) + \text{sup}(g) }
	\end{align*}
\end{prop}

\begin{rem}
	If \( f, g \) are both compactly supported, then \( f * g \) is compactly supported. If only one is compactly supported, you cannot say anything.	
\end{rem}

\begin{defn}[\(L^p_{\text{loc}} \) ]
	Let \( f \) be a function. \( f \in L^p_{\text{loc}} \) if \( f \chi_{K} \in L^p \) for all \(K \) compact, \(K \subseteq \Omega \).
\end{defn}

\begin{rem}
	By using some sort of a Hölder-estimate, we can show that \( f \in L^p_{\text{loc}} \Rightarrow f \in L^1_{\text{loc}}\).
\end{rem}

\begin{prop}
	Let \( f \), \( g \) be functions. If \( f \in C_c^0(\R^N) \),  \( g \in L^1_{\text{loc}}(\R^N) \). Then, \( (f *g)(x) \) is defined for every \( x \) and \( (f*g) \in C(\R^N) \). 
\end{prop}

\begin{proof}
	We have that for every \( x \in \R^N \), 
	\begin{align*}
		 \left| \int f(x-y)g(y)dy \right| & = \left| \int g(x-y)f(y)dy \right| \\
		 & \leq || f ||_\infty \int_K |g(x-y)| dy \text{ (by compactly supported) } \\
		 & \leq ||f||_\infty ||g||_L^1(\tilde{K}) \text{ (since } g \in L^1_{\text{loc}} \text{)}\\
		 & < \infty 
	\end{align*}
	Since \( \tilde{K} \) is compact. Now suppose that \( x_n \rightarrow x \) (which means that \( |x_n - x| \leq B_1 \) for all \( n \geq N \)). Then, since \( \text{supp}(f) \) is compact, there exists a compact set such that, 
	\begin{align*}
		| f(x_n - y) - f(x-y) | \leq \varepsilon_n \chi_K(y) 
	\end{align*}
	(by the uniform continuity and by taking \( \eps_n \rightarrow 0 \)). So, now it's obvious, 
	\begin{align*}
		| (f*g)(x_n) - (f*g)(x) | \leq \eps_n \int_K |g(y)|dy \rightarrow 0, 
	\end{align*}
	where the last limit follows from the fact that \( g \in L^1_{\text{loc}}\).
\end{proof}

\textbf{Mollification} is approximating a function by a smooth function. We define a \textbf{mollifier} by:
\begin{align*}
	\rho(x) := \begin{cases}
		C \text{exp} \left( - \frac{1}{1-|x|^2} \right) & \text{ if } |x| \leq 1, \\
		0 & \text{ if } |x| > 1
	\end{cases}
\end{align*}
This is continuous and smooth, with \( C \) chosen based on the dimensions such that, 
\begin{align*}
		\int_{\R^N} \rho(x) dx = 1.
\end{align*}
Note that \( \rho \in C_c^\infty (\R^N) \). We define: 
\begin{align*}
	\rho_h(x) := \frac{\rho(x/h)}{h^N} \hspace{1cm} u_h(x) := (\rho_h * u)(x) = \frac{1}{h^N} \int_{\Omega} \rho \left( \frac{x-y}{h} \right) u(y)dy.
\end{align*}


\begin{prop}
	Let \( u \in C_c^0(\Omega) \). Then, \( u_h \in C_c^\infty (\Omega) \) and if \( u < \mathrm{dist}(\mathrm{supp}, \partial \Omega ) \), then \( u_h \rightarrow u \) uniformly on \( \Omega \) as \( h \rightarrow 0 \). 
\end{prop}

\begin{proof}
	Let \( h < \mathrm{dist}(\mathrm{supp}, \partial \Omega) \). Observe that by the dominated convergence theorem, 
	\begin{align*}
		\partial_i u_h(x) = \int_\Omega \partial_i \rho \left( \frac{x-y}{h} \right) u(y)dy, 
	\end{align*}
	where \( \partial_i \rho \left( \frac{x-y}{h} \right)  \) is smooth with compact support, and hence the integral is finite. This implies that \( \rho \in C_c^\infty (\Omega) \) and hence \( u_h \in C_c^\infty (\Omega ) \). Observe, 
	\begin{align*}
		& \frac{1}{h^N} \int_{\R^N} \rho \left( \frac{y}{h} \right) dy = 1 \\
		\Rightarrow & \frac{1}{h^N} \int_{B(0, h)} \rho \left( \frac{y}{h} \right) dy = 1  \\
		\Rightarrow & \frac{1}{h^N} \int_{B(0,h)} \rho \left( \frac{x-y}{h} \right) dy = 1\ \forall x.  
	\end{align*}
	Hence, 
	\begin{align*}
		u_h(x) - u(x) = \frac{1}{h^N} \int_{\Omega} \rho \left( \frac{x-y}{h} \right) [ u(y) - u(x) ] dy  \text{ (multiplying by 1 in a smart way)} 
	\end{align*}
	Hence, 
	\begin{align*}
		| u_h(x) - u(x) | & = \left| \frac{1}{h^N} \int_{|x-y| \leq h} \rho \left( \frac{x-y}{h} \right) |u(y) - u(x) | dy \right|  \\
		& \leq \sup_{|x-y| \leq h } |u(y) - u(x) | \frac{1}{h^N} \int_{|x-y| \leq h } \rho \left( \frac{x-y}{h} \right) dy \\
		& = \sup_{|x-y| \leq h } |u(y) - u(x) |. 
	\end{align*}
	Invoking the uniform continuity of \( u \in C_c^0 \), we can bound \( \sup_{|x-y| \leq h } |u(y) - u(x) | \leq u(h) \). Hence, 
	\begin{align*}
		\sup_{x \in \Omega} |u_h(x) - u(x) | \rightarrow 0 \text{ as } h \rightarrow 0.
	\end{align*}
\end{proof}

\begin{thm}
	Assume that \( f \in L^p(\R^N) \) with \( 1 \leq p < \infty \). Then, 
	\begin{align*}
		(\rho_h *f) \rightarrow f \text{ as } h \rightarrow 0 \text{ in } L^p.
	\end{align*}	
\end{thm}

\begin{proof}
	Fix an \( \eps > 0 \). We know that there exists an \( f_1 \in C_c^0(\R^N) \), \( ||f-f_1||_L^P < \eps \). Also, since \( f_1 \in C_c^0(\R^N) \), we know that 
	\begin{align*}
		(\rho_h * f_1) \rightarrow f_1 \text{ uniformly.} 
	\end{align*}
	We also have that
	\begin{align*}
		\mathrm{supp}(\rho_h * f_1) & \subseteq \overline{B(0,h) + \mathrm{supp}(f_1) } \\
		& \subseteq \underbrace{\overline{B(0,1) + \mathrm{supp}(f_1)}}_{\text{compact}}
	\end{align*}
	Hence, 
	\begin{align*}
		|| (\rho_h * f_1) - f_1||_{L^p} \rightarrow 0.
	\end{align*}
	Thus, 
	\begin{align*}
		(\rho_h * f) - f = (\rho_h * (f-f_1)) + [ (\rho_h *f_1) -f_1] + f_1 - f.
	\end{align*}
	By the triangle inequality and Young's inequality, 
	\begin{align*}
		|| (\rho_h *f)-f||_{L^p} \leq 2 \underbrace{|| f-f_1||_{L^p}}_{:=(1)} + \underbrace{||(\rho_h *f_1) - f_1 ||_{L^p}}_{:=(2)}
	\end{align*}
	Where \( (1) \) is small by density and \( (2) \) is small because we just did it. Hence, 
	\begin{align*}
		& \limsup_{h \rightarrow 0 } || (\rho_h * f) - f ||_{L^p} \leq \eps \\
		\Rightarrow & \lim_{h \rightarrow 0 } || (\rho_h *f) -f ||_{L^p} = 0 
	\end{align*}
\end{proof}

\begin{cor}
	Let \( \Omega \subseteq \R^N \) (possibly all of \( \R^N \)) with \( 1 \leq p < \infty \). Then, \( (\rho_h *f) \rightarrow f \) in \( L^P(\R^N) \) as \( h \rightarrow 0 \).
\end{cor}

\begin{proof}
	Given an \( f \in L^p(\Omega) \), we extend to \( \overline{f} \in L^p(\R^n) \) by:
	\begin{align*}
		\overline{f}(x) := \begin{cases}
			f(x) & x \in \Omega, \\
			0 & x \in \R^n \setminus \Omega.
		\end{cases}
	\end{align*}
	Let \( \{ K_N \} \subseteq \R^N \) be a compact set such that \( \bigcup_{n=1}^\infty K_N = \Omega \). (Remark: if \( \Omega \subseteq \R^N \) is bounded, then \( \mathrm{dist}(K_n \cap \Omega^c) > 2/n \)). Now let \( g_n := \overline{f} \chi_{K_n} \). This is compactly supported. Also, \( f_n := \rho_{1/n} * g_n \) is compactly supported. Hence, 
	\begin{align*}
		\mathrm{supp}(f_n) \subseteq \overline{B(0, 1/n) + K_n} \subseteq \Omega,
	\end{align*}
	and \( f_n \in C_c^\infty (\Omega) \) for all \( n \in \mathbb{N} \). Also, 
	\begin{align*}
		|| f_n - f||_{L^p(\Omega)} & = || f_n - \overline{f} ||_{L^p(\R^N)} \\
		& \leq || ( \rho_{1/n} * g_n) - (\rho_{1/n} * \overline{f} ) ||_{L^p(\R^N) } + || (\rho_{1/n} * \overline{f} ) - \overline{f} ||_{L^p(\R^N)}  \text{ (Minkowski and triangle inequality)} 
	\end{align*}
	By the linearity of convolution, 
	\begin{align*}
		\leq || \rho_{1/n} * (g_n - \overline{f} ) ||_{L^p(\R^N)} + || (\rho_{1/n} * \overline{f} ) - \overline{f} ||_{L^p(\R^N) }.
	\end{align*}
	Apply Young's Inequality to the first term, 
	\begin{align*}
		\leq || g_n - \overline{f}||_{L^p(\R^N)} + || (\rho_{1/n} * \overline{f}) - \overline{f}||_{L^p(\R^N)}.
	\end{align*}
	Note that \( g_n := \overline{f}\chi_{k_n } \), and hence by the dominated convergence theorem, 
	\begin{align*}
		||g_n - \overline{f} ||_{L^p(\R^N)} \rightarrow 0, 
	\end{align*}
	and by the last theorem, 
	\begin{align*}
		|| ( \rho_{1/n} * \overline{f} ) - \overline{f} ||_{L^p(\R^N) } \rightarrow 0.
	\end{align*}
	Combining everything together, we get
	\begin{align*}
		||f_n - f||_{L^p(\Omega) } \rightarrow 0.
	\end{align*}
	Which proves that smooth functions with compact support are dense in \( L^p \).
\end{proof}

\subsection{Hilbert Spaces}

\begin{defn}[Inner Product]
	An \textbf{inner product} over a vector space \( X \) is a map \( \langle \cdot, \cdot \rangle: X \times X \rightarrow \R \) such that:
	\begin{enumerate}
		\item \( \langle \lambda x + \mu y, z \rangle = \lambda \langle x, z \rangle + \mu \langle y, z \rangle \) for all \( \lambda, \mu \in \R \).
		\item \( \langle y, x \rangle = \langle x, y \rangle \) for all \( x, y \in X \). 
		\item \( \langle x, x \rangle \geq 0 \) for all \( x \in X \) and \( \langle x, x \rangle = 0 \iff x =0 \).
	\end{enumerate}
\end{defn}
An inner product generates a norm: 
\begin{align*}
	|| x || := \sqrt{ \langle x, x, \rangle}.
\end{align*}
And we have Cauchy-Schwarz: 
\begin{align*}
	\boxed{|\langle x, y \rangle | \leq || x || || y ||}
\end{align*}
Proof of Cauchy-Schwarz:
\begin{proof}
	Let \( z := x - \frac{\langle x, y \rangle}{\langle y, y \rangle} y \). We have that, 
	\begin{align*}
		0 \leq || z ||^2 &  = \left\langle x - \frac{\langle x, y \rangle}{\langle x, x \rangle}y, x - \frac{\langle x, y \rangle}{\langle y, y \rangle} \right\rangle  \\
		& = \langle x, x \rangle - \frac{\langle x, y \rangle^2}{\langle y, y \rangle} - \frac{\langle x, y \rangle^2}{\langle y, y \rangle} + \frac{\langle x, y \rangle^2 \langle y, y \rangle}{\langle y, y \rangle^2} \\
		& = ||x||^2 - \frac{\langle x, y \rangle^2}{||y||^2}
	\end{align*}
	And hence, 
	\begin{align*}
		\langle x, y \rangle^2 \leq || x||^2 ||y||^2 \iff \boxed{. || \langle x, y \rangle || \leq || x || || y || }
	\end{align*}
\end{proof}

\begin{defn}[Hilbert Space]
	A \textbf{Hilbert Space} \( \mathcal{H} \) is a complete inner product space (with respect to the norm induced by the inner product). This satisfies the parallelogram law, 
	\begin{align*}
		\boxed{||u+v||^2 + ||u-v||^2 = 2 ||u||^2 + 2 ||v||^2}
	\end{align*}
\end{defn}
Examples of Hilbert Spaces you've encountered:
\begin{enumerate}
	\item \( \ell^2 \) with the inner product \( \langle x, y \rangle = \sum_{i=1}^\infty x_i y_i \). 
	\item \( L^2 \) with inner product \( \langle f, g \rangle := \int_\Omega f(x) g(x) dx \).
\end{enumerate}



\end{document}